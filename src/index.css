@import "tailwindcss";

@layer base {
  :root {
    --transition-theme: 0.3s ease-in-out;
  }

  [data-theme="dark"] {
    --bg-primary: rgb(15 23 42);
    --bg-secondary: rgb(30 41 59);
    --bg-tertiary: rgb(51 65 85);
    --text-primary: rgb(255 255 255);
    --text-secondary: rgb(203 213 225);
    --accent-from: rgb(59 130 246);
    --accent-to: rgb(139 92 246);
    --card-bg: rgba(30 41 59 / 0.5);
    --card-border: rgba(71 85 105 / 0.3);
    --shadow: rgba(0 0 0 / 0.3);
    --blue-400: rgb(96 165 250);
    --blue-500: rgb(59 130 246);
    --blue-600: rgb(37 99 235);
  }

  [data-theme="light"] {
    --bg-primary: rgb(241 245 249);
    --bg-secondary: rgb(226 232 240);
    --bg-tertiary: rgb(248 250 252);
    --text-primary: rgb(15 23 42);
    --text-secondary: rgb(51 65 85);
    --accent-from: rgb(59 130 246);
    --accent-to: rgb(139 92 246);
    --card-bg: rgba(255 255 255 / 0.9);
    --card-border: rgba(148 163 184 / 0.4);
    --shadow: rgba(0 0 0 / 0.1);
    --blue-400: rgb(96 165 250);
    --blue-500: rgb(59 130 246);
    --blue-600: rgb(37 99 235);
  }

  body {
    background: linear-gradient(to bottom right, var(--bg-primary), var(--bg-secondary), var(--bg-primary));
    color: var(--text-primary);
    min-height: 100vh;
    transition: background var(--transition-theme), color var(--transition-theme);
  }

  * {
    transition: background-color var(--transition-theme), border-color var(--transition-theme), color var(--transition-theme);
  }
}

@layer utilities {
  .text-gradient {
    background: linear-gradient(to right, var(--accent-from), var(--accent-to));
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }

  /* Theme-aware background utilities */
  .bg-card {
    background-color: var(--card-bg);
  }

  .bg-card-solid {
    background-color: var(--bg-secondary);
  }

  /* Theme-aware border utilities */
  .border-card {
    border-color: var(--card-border);
  }

  /* Theme-aware text utilities */
  .text-theme-primary {
    color: var(--text-primary);
  }

  .text-theme-secondary {
    color: var(--text-secondary);
  }
}

@layer components {
  /* Override common Tailwind classes for theme support */
  .bg-slate-800\/50 {
    background-color: var(--card-bg) !important;
    backdrop-filter: blur(8px);
  }

  .bg-slate-900\/50 {
    background-color: var(--bg-tertiary) !important;
    backdrop-filter: blur(8px);
  }

  .bg-slate-900\/80 {
    background: var(--bg-tertiary) !important;
    backdrop-filter: blur(8px);
  }

  .border-slate-700 {
    border-color: var(--card-border) !important;
  }

  .text-white {
    color: var(--text-primary) !important;
  }

  .text-gray-300 {
    color: var(--text-secondary) !important;
  }

  .text-gray-400 {
    color: var(--text-secondary) !important;
    opacity: 0.8;
  }

  .text-gray-500 {
    color: var(--text-secondary) !important;
    opacity: 0.6;
  }

  .hover\:text-white:hover {
    color: var(--text-primary) !important;
  }

  .group-hover\:text-white {
    .group:hover & {
      color: var(--text-primary) !important;
    }
  }

  /* Theme-aware blue color utilities */
  .text-blue-400 {
    color: var(--blue-400) !important;
  }

  .text-blue-500 {
    color: var(--blue-500) !important;
  }

  .hover\:text-blue-300:hover {
    color: var(--blue-400) !important;
  }

  .bg-blue-600\/20 {
    background-color: color-mix(in srgb, var(--blue-600) 20%, transparent) !important;
  }

  .group-hover\:bg-blue-600\/30 {
    .group:hover & {
      background-color: color-mix(in srgb, var(--blue-600) 30%, transparent) !important;
    }
  }

  .text-blue-300 {
    color: var(--blue-400) !important;
  }

  .border-blue-500\/30 {
    border-color: color-mix(in srgb, var(--blue-500) 30%, transparent) !important;
  }

  .hover\:border-blue-500\/50:hover {
    border-color: color-mix(in srgb, var(--blue-500) 50%, transparent) !important;
  }

  /* Gradient backgrounds for light theme compatibility */
  .bg-gradient-to-br {
    background-image: linear-gradient(to bottom right, var(--from-color, transparent), var(--to-color, transparent));
  }

  .from-blue-600\/20 {
    --from-color: color-mix(in srgb, var(--blue-600) 20%, transparent);
  }

  .to-purple-600\/20 {
    --to-color: color-mix(in srgb, rgb(147 51 234) 20%, transparent);
  }

  /* Active link color for header */
  .border-blue-500 {
    border-color: var(--blue-500) !important;
  }

  /* Mobile menu background */
  .hover\:bg-slate-700:hover {
    background-color: var(--bg-tertiary) !important;
  }

  .bg-blue-600 {
    background-color: var(--blue-600) !important;
  }

  /* Form input styling */
  .border-slate-600 {
    border-color: var(--card-border) !important;
  }

  .placeholder-gray-500::placeholder {
    color: var(--text-secondary);
    opacity: 0.5;
  }

  /* Additional gray text utilities */
  .group-hover\:text-gray-400 {
    .group:hover & {
      color: var(--text-secondary) !important;
      opacity: 0.8;
    }
  }

  .hover\:border-gray-400:hover {
    border-color: var(--card-border) !important;
  }

  /* Additional background variants */
  .bg-slate-800\/30 {
    background-color: color-mix(in srgb, var(--card-bg) 60%, transparent) !important;
    backdrop-filter: blur(8px);
  }

  .bg-slate-900\/95 {
    background-color: var(--bg-tertiary) !important;
    opacity: 0.95;
    backdrop-filter: blur(8px);
  }

  /* Additional text variants */
  .text-gray-600 {
    color: var(--text-secondary) !important;
    opacity: 0.5;
  }
}
